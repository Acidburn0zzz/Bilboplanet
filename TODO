TODO dans l'ordre de priorité :

===================================================
* Milestone 0.3
===================================================

BUGS :
* Bugs pour une utilisation windows : les commandes linux utilisées dans l'admin ne sont pas bonnes
	* Les fonctions dans la gestion de la DB fonctionnent uniquement sous les systemes UNIX

===================================================
* Milestone 0.4
===================================================

0) Modifier la page gestion-mysql afin d'avoir un bouton pour générer le backup et d'avoir une gestion plus aisée : format de backup sous forme CSV et import sous forme CSV aussi !!
1) Renommer le colonnes de la DB et refaire le schéma de la DB depuis le début ... quitte a ce que ça prenne du temps
2) Faire une branch avec : changements DB :
	* votes avec valeur et timestamp
	* changement des noms de tables et des colonnes
	* ajouter table settings
	* ajouter table user => openid
3) Mettre en place une db "settings" pour tous les details de config
4) Mettre en place un algo d'update (serveur configurable dans le fichier de config)
5) Mettre en utililsation la librairie Clearbricks au niveau des requetes DB
6) Mettre en place un system de login basé sur openid + logs + votes
7) Permettre d'envoyer un mail à tuos les membres
8) Gérer les exceptions : 
	* Lorsqu'une commande exec() est executée et qu'elle génère une erreur, l'erruer n'est pas reportée !!!
	* Dans l'install, les erreur de lecture/ecriture des fichiers devraient être reportée plus joliment, idem pour la DB
9) ajouter détection automatique de l'URL du planet pdt l'install

NEW DATABASE :

Table USER:
	id
	login
	email
	password(sha1)
	fullname

CREATE TABLE `test`.`user` (
`id` INT( 11 ) NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`login` VARCHAR( 32 ) NOT NULL ,
`email` VARCHAR( 255 ) NOT NULL ,
`password` VARCHAR( 32 ) NOT NULL ,
`fullname` VARCHAR( 255 ) NOT NULL
);

Table OpenId:
	id
	user_id => user.id
	oid

CREATE TABLE `test`.`openid` (
`id` INT( 11 ) NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`user_id` INT( 11 ) NOT NULL ,
`url` TEXT NOT NULL
);

Table website:
	id
	user_id => user.id
	url

CREATE TABLE `test`.`website` (
`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`user_id` INT NOT NULL ,
`url` TEXT NOT NULL
);

Table feed:
	id
	user_id => user.id
	website_id => website.id
	url

CREATE TABLE `test`.`feed` (
`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`user_id` INT NOT NULL ,
`website_id` INT NOT NULL ,
`url` TEXT NOT NULL
);

Table posts:
	id
	user_id => user.id
	feed_id => feed.id
	title
	permalink
	stripped_content
	publish_date
	created
	modified

CREATE TABLE `test`.`post` (
`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`user_id` INT NOT NULL ,
`feed_id` INT NOT NULL ,
`title` TEXT NOT NULL ,
`permalink` TEXT NOT NULL ,
`publish_date` INT NOT NULL ,
`content` TEXT NOT NULL ,
`stripped_content` TEXT NOT NULL ,
`created` INT NOT NULL ,
`modified` INT NOT NULL
)


Table tag:
	id
	name

CREATE TABLE `test`.`tag` (
`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`name` VARCHAR( 255 ) NOT NULL
);


Table post_tag:
	id
	post_id => post.id
	tag_id => tag.id

CREATE TABLE `test`.`post_tag` (
`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`post_id` INT NOT NULL ,
`tag_id` INT NOT NULL
);

Table right:
	id
	name

CREATE TABLE `test`.`right` (
`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`name` VARCHAR( 255 ) NOT NULL
);

Table user_right:
	id
	user_id => user.id
	right_id => right.id

CREATE TABLE `test`.`user_right` (
`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`user_id` INT NOT NULL ,
`right_id` INT NOT NULL
);

Table settings:
	id
	key
	value

CREATE TABLE `test`.`settings` (
`id` INT NOT NULL AUTO_INCREMENT PRIMARY KEY ,
`key` VARCHAR( 255 ) NOT NULL ,
`value` TEXT NOT NULL ,
INDEX ( `key` )
);

Etapes de changement de DB :
1) construire la DB
2) faire des tests pour utiliser clearbricks ou MVC
3) Installer un systeme qui gere openid
4) Injecter le code dans celui du bilbo

===================================================
* Milestone 0.5
===================================================
1) Mettre en place un system de templating
2) Ajouter blacklist votes : revoir completement le mecanisme de votes
3) Mecanisme permettant l'envoi d'un mail lors de la modération
4) Proposer une solution gérant plusieurs types de DB => SQlite et PostreSQL
5) Proposer une solution multi-DB => la moitié sur SQlite, l'autre moitié sur MySQL

